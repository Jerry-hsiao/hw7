{"version":3,"sources":["webpack:///./src/views/admin/ProductsList.vue","webpack:///./src/components/ProductModal.vue","webpack:///./src/components/ProductModal.vue?f7e1","webpack:///./src/views/admin/ProductsList.vue?b903","webpack:///./node_modules/core-js/modules/es.symbol.description.js"],"names":["class","_createElementVNode","style","_createElementBlock","_createVNode","_component_Loading","active","$data","z-index","type","onClick","$options","_hoisted_4","_Fragment","_renderList","item","index","key","backgroundImage","imageUrl","_toDisplayString","title","_ctx","currency","origin_price","price","is_enabled","_hoisted_7","_hoisted_9","_hoisted_10","_component_Pagination","pages","onEmitPages","_component_ProductModal","product","onUpdateProduct","ref","_component_DelModal","onDelItem","id","tabindex","role","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","for","$props","_hoisted_6","_hoisted_8","_hoisted_13","$event","placeholder","fileUploading","onChange","src","imagesUrl","image","splice","_hoisted_22","length","_hoisted_23","push","_hoisted_26","_hoisted_29","category","_hoisted_31","unit","_hoisted_34","min","_hoisted_36","_hoisted_37","_hoisted_39","description","_hoisted_41","content","true-value","false-value","_hoisted_44","_hoisted_46","props","Object","default","isNew","Boolean","data","status","modal","tempProduct","emits","mixins","modalMixin","watch","this","methods","uploadFile","uploadedFile","$refs","fileInput","files","formData","FormData","append","url","process","$http","post","headers","then","response","success","value","$httpMessageState","catch","error","__exports__","products","pagination","currentPages","isLoading","components","ProductModal","DelModal","Pagination","getProducts","page","api","get","res","err","openModal","productDetailModal","openDelProductModal","delModal","updateProduct","temp","httpMethod","hideModal","delProduct","delete","currentPage","mounted","render","$","DESCRIPTORS","global","uncurryThis","hasOwn","isCallable","isPrototypeOf","toString","defineProperty","f","copyConstructorProperties","NativeSymbol","Symbol","SymbolPrototype","prototype","undefined","EmptyStringDescriptionStore","SymbolWrapper","arguments","result","constructor","NATIVE_SYMBOL","String","symbolToString","symbolValueOf","valueOf","regexp","replace","stringSlice","slice","configurable","symbol","string","desc","forced"],"mappings":"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","file":"js/chunk-3f1401a5.8c6f3fe9.js","sourcesContent":["<template>\n  <div class=\"container\">\n    <Loading :active=\"isLoading\" :z-index=\"1060\"></Loading>\n    <div class=\"text-end mt-4\">\n      <button class=\"btn btn-primary\" type=\"button\" @click=\"openModal(true)\">\n        建立新的產品\n      </button>\n    </div>\n    <table class=\"table align-middle mt-4\">\n      <thead>\n        <tr>\n          <th>圖片</th>\n          <th>產品名稱</th>\n          <th>原價</th>\n          <th>售價</th>\n          <th>是否啟用</th>\n          <th>編輯</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"(item, index) in products\" :key=\"index\">\n          <td style=\"width: 200px\">\n            <div\n              style=\"\n                height: 100px;\n                background-size: cover;\n                background-position: center;\n              \"\n              :style=\"{ backgroundImage: `url(${item.imageUrl})` }\"\n            ></div>\n          </td>\n          <td>{{ item.title }}</td>\n          <td>{{ $filters.currency(item.origin_price) }}</td>\n          <td>{{ $filters.currency(item.price) }}</td>\n          <td>\n            <span v-if=\"item.is_enabled\" class=\"text-success\">啟用</span>\n            <span v-else>未啟用</span>\n          </td>\n          <td>\n            <div class=\"btn-group\">\n              <button\n                class=\"btn btn-outline-primary btn-sm\"\n                type=\"button\"\n                @click=\"openModal(false, item)\"\n              >\n                編輯\n              </button>\n              <button\n                class=\"btn btn-outline-danger btn-sm\"\n                type=\"button\"\n                @click=\"openDelProductModal(item)\"\n              >\n                刪除\n              </button>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <Pagination :pages=\"pagination\" @emit-pages=\"getProducts\"></Pagination>\n    <!-- ProductModal -->\n    <ProductModal\n      :product=\"tempProduct\"\n      @update-product=\"updateProduct\"\n      ref=\"productDetailModal\"\n    ></ProductModal>\n    <!-- DelModal -->\n    <DelModal\n      :item=\"tempProduct\"\n      ref=\"delModal\"\n      @del-item=\"delProduct\"\n    ></DelModal>\n  </div>\n</template>\n<script>\nimport ProductModal from '@/components/ProductModal.vue';\nimport DelModal from '@/components/DelModal.vue';\nimport Pagination from '@/components/Pagination.vue';\nexport default {\n  data() {\n    return {\n      products: {},\n      tempProduct: {},\n      pagination: {},\n      currentPages: 1,\n      isLoading: false,\n      isNew: false,\n    };\n  },\n  components: {\n    ProductModal,\n    DelModal,\n    Pagination,\n  },\n  methods: {\n    getProducts(page = 1) {\n      this.isLoading = true;\n      this.currentPages = page;\n      //   const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`;\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`;\n      this.$http\n        .get(api)\n        .then((res) => {\n          this.products = res.data.products;\n          this.pagination = res.data.pagination;\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          this.$httpMessageState(err.response, '產品列表錯誤訊息');\n        });\n    },\n    openModal(isNew, item) {\n      this.tempProduct = item;\n      if (isNew) {\n        this.tempProduct = {};\n        this.isNew = true;\n      } else {\n        this.tempProduct = { ...item };\n        this.isNew = false;\n      }\n      this.$refs.productDetailModal.openModal();\n    },\n    openDelProductModal(item) {\n      this.tempProduct = { ...item };\n      this.$refs.delModal.openModal();\n    },\n    updateProduct(temp) {\n      this.isLoading = true;\n      this.tempProduct = temp;\n      let api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`;\n      let httpMethod = 'put';\n      let status = '更新產品';\n      if (this.isNew) {\n        api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product`;\n        httpMethod = 'post';\n        status = '新增產品';\n      }\n      this.$http[httpMethod](api, { data: this.tempProduct })\n        .then((res) => {\n          this.$refs.productDetailModal.hideModal();\n          this.getProducts(this.currentPages);\n          this.$httpMessageState(res, status);\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          this.$httpMessageState(err.response, status);\n          this.isLoading = false;\n        });\n    },\n    delProduct() {\n      this.isLoading = true;\n      let api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`;\n      this.$http\n        .delete(api)\n        .then((res) => {\n          this.$httpMessageState(res, '刪除產品');\n          this.$refs.delModal.hideModal();\n          this.getProducts(this.currentPage);\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          this.$httpMessageState(err.response, '刪除產品');\n          this.isLoading = false;\n        });\n    },\n  },\n  mounted() {\n    this.getProducts();\n  },\n};\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    id=\"productModal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"productDetailModal\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 class=\"modal-title\" id=\"productDetailModal\">\n            <span v-if=\"isNew\">新增產品</span>\n            <span v-else>編輯產品</span>\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-sm-4\">\n              <div class=\"mb-3\">\n                <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"image\"\n                  v-model=\"tempProduct.imageUrl\"\n                  placeholder=\"請輸入圖片連結\"\n                />\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"customFile\" class=\"form-label\"\n                  >或 上傳圖片\n                  <i\n                    class=\"fas fa-spinner fa-spin\"\n                    v-if=\"status.fileUploading\"\n                  ></i>\n                </label>\n                <input\n                  type=\"file\"\n                  id=\"customFile\"\n                  class=\"form-control\"\n                  ref=\"fileInput\"\n                  @change=\"uploadFile\"\n                />\n              </div>\n              <img class=\"img-fluid\" :src=\"tempProduct.imageUrl\" />\n              <!-- 延伸技巧，多圖 -->\n              <div class=\"mt-5\" v-if=\"tempProduct.imagesUrl\">\n                <div\n                  v-for=\"(image, key) in tempProduct.imagesUrl\"\n                  class=\"mb-3\"\n                  :key=\"key\"\n                >\n                  <input\n                    type=\"url\"\n                    class=\"form-control form-control\"\n                    v-model=\"tempProduct.imagesUrl[key]\"\n                    placeholder=\"請輸入連結\"\n                  />\n                  <div>\n                    <img class=\"img-fluid\" :src=\"image\" />\n                  </div>\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-outline-danger\"\n                    @click=\"tempProduct.imagesUrl.splice(key, 1)\"\n                  >\n                    移除\n                  </button>\n                </div>\n                <div\n                  v-if=\"\n                    tempProduct.imagesUrl[tempProduct.imagesUrl.length - 1] ||\n                    !tempProduct.imagesUrl.length\n                  \"\n                >\n                  <button\n                    class=\"btn btn-outline-primary btn-sm d-block w-100\"\n                    @click=\"tempProduct.imagesUrl.push('')\"\n                  >\n                    新增圖片\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-sm-8\">\n              <div class=\"mb-3\">\n                <label for=\"title\" class=\"form-label\">標題</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"title\"\n                  v-model=\"tempProduct.title\"\n                  placeholder=\"請輸入標題\"\n                />\n              </div>\n\n              <div class=\"row gx-2\">\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"category\" class=\"form-label\">分類</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"category\"\n                    v-model=\"tempProduct.category\"\n                    placeholder=\"請輸入分類\"\n                  />\n                </div>\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"price\" class=\"form-label\">單位</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"unit\"\n                    v-model=\"tempProduct.unit\"\n                    placeholder=\"請輸入單位\"\n                  />\n                </div>\n              </div>\n\n              <div class=\"row gx-2\">\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"origin_price\" class=\"form-label\">原價</label>\n                  <input\n                    type=\"number\"\n                    class=\"form-control\"\n                    id=\"origin_price\"\n                    min=\"0\"\n                    v-model.number=\"tempProduct.origin_price\"\n                    placeholder=\"請輸入原價\"\n                  />\n                </div>\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"price\" class=\"form-label\">售價</label>\n                  <input\n                    type=\"number\"\n                    class=\"form-control\"\n                    id=\"price\"\n                    v-model.number=\"tempProduct.price\"\n                    min=\"0\"\n                    placeholder=\"請輸入售價\"\n                  />\n                </div>\n              </div>\n              <hr />\n\n              <div class=\"mb-3\">\n                <label for=\"description\" class=\"form-label\">產品描述</label>\n                <textarea\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"description\"\n                  v-model=\"tempProduct.description\"\n                  placeholder=\"請輸入產品描述\"\n                ></textarea>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"content\" class=\"form-label\">說明內容</label>\n                <textarea\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"content\"\n                  v-model=\"tempProduct.content\"\n                  placeholder=\"請輸入產品說明內容\"\n                ></textarea>\n              </div>\n              <div class=\"mb-3\">\n                <div class=\"form-check\">\n                  <input\n                    class=\"form-check-input\"\n                    type=\"checkbox\"\n                    v-model=\"tempProduct.is_enabled\"\n                    :true-value=\"1\"\n                    :false-value=\"0\"\n                    id=\"is_enabled\"\n                  />\n                  <label class=\"form-check-label\" for=\"is_enabled\">\n                    是否啟用\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn-primary\"\n            @click=\"$emit('update-product', tempProduct)\"\n          >\n            確認\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport modalMixin from '@/mixins/modalControl';\n\nexport default {\n  props: {\n    product: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n    isNew: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      status: {},\n      modal: '',\n      tempProduct: {},\n    };\n  },\n  emits: ['update-product'],\n  mixins: [modalMixin],\n  watch: {\n    product() {\n      this.tempProduct = this.product;\n      if (!this.tempProduct.imagesUrl) {\n        this.tempProduct.imagesUrl = [];\n      }\n      if (!this.tempProduct.imageUrl) {\n        this.tempProduct.imageUrl = '';\n      }\n    },\n  },\n  methods: {\n    uploadFile() {\n      const uploadedFile = this.$refs.fileInput.files[0];\n      const formData = new FormData();\n      formData.append('file-to-upload', uploadedFile);\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/upload`;\n      this.status.fileUploading = true;\n      this.$http\n        .post(url, formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n          },\n        })\n        .then((response) => {\n          this.status.fileUploading = false;\n          if (response.data.success) {\n            this.tempProduct.imageUrl = response.data.imageUrl;\n            this.$refs.fileInput.value = '';\n            this.$httpMessageState(response, '圖片上傳結果');\n            // this.emitter.emit('push-message', {\n            //   style: 'success',\n            //   title: '圖片上傳結果',\n            //   content: response.data.message,\n            // });\n          } else {\n            this.$refs.fileInput.value = '';\n            this.$httpMessageState(response, '圖片上傳結果');\n            // this.emitter.emit('push-message', {\n            //   style: 'danger',\n            //   title: '圖片上傳結果',\n            //   content: response.data.message,\n            // });\n          }\n        })\n        .catch((error) => {\n          this.status.fileUploading = false;\n          this.$httpMessageState(error.response, '圖片失敗');\n        });\n    },\n  },\n};\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=46656ee9\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\自學Practice\\\\六角\\\\h7\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductsList.vue?vue&type=template&id=18584e98\"\nimport script from \"./ProductsList.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\自學Practice\\\\六角\\\\h7\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar toString = require('../internals/to-string');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\nvar SymbolPrototype = NativeSymbol && NativeSymbol.prototype;\n\nif (DESCRIPTORS && isCallable(NativeSymbol) && (!('description' in SymbolPrototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : toString(arguments[0]);\n    var result = isPrototypeOf(SymbolPrototype, this)\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  SymbolWrapper.prototype = SymbolPrototype;\n  SymbolPrototype.constructor = SymbolWrapper;\n\n  var NATIVE_SYMBOL = String(NativeSymbol('test')) == 'Symbol(test)';\n  var symbolToString = uncurryThis(SymbolPrototype.toString);\n  var symbolValueOf = uncurryThis(SymbolPrototype.valueOf);\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  var replace = uncurryThis(''.replace);\n  var stringSlice = uncurryThis(''.slice);\n\n  defineProperty(SymbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = symbolValueOf(this);\n      var string = symbolToString(symbol);\n      if (hasOwn(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = NATIVE_SYMBOL ? stringSlice(string, 7, -1) : replace(string, regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n"],"sourceRoot":""}